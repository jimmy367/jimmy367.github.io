import{j as E,c as i,h as v,l as R,u as Y,aE as de,k as Z,aF as ve,r as y,g as G,ae as fe,a4 as J,at as ge,R as me,S as he,U as be,V as ye,W as Se,X as qe,Y as ke,Z as _e,w as K,aS as Ce,aT as Te,aU as Be,aV as H,a2 as xe,aW as we,a3 as p,$ as ee,a9 as Pe,aX as Ee,aY as Oe,aZ as Re}from"./index.13381753.js";import{u as Fe,v as U,a as Le,b as Ie,c as Qe,p as V,r as X,s as Me,d as Ke}from"./position-engine.45d4a394.js";var De=E({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:s}){const l=i(()=>parseInt(e.lines,10)),g=i(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),f=i(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>v("div",{style:f.value,class:g.value},R(s.default))}}),We=E({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:s}){const l=i(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>v("div",{class:l.value},R(s.default))}}),He=E({name:"QItem",props:{...Y,...de,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:s,emit:l}){const{proxy:{$q:g}}=G(),f=Z(e,g),{hasLink:o,linkAttrs:u,linkClass:r,linkTag:b,navigateOnClick:m}=ve(),c=y(null),d=y(null),h=i(()=>e.clickable===!0||o.value===!0||e.tag==="label"),S=i(()=>e.disable!==!0&&h.value===!0),C=i(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(f.value===!0?" q-item--dark":"")+(o.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(S.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),q=i(()=>{if(e.insetLevel===void 0)return null;const n=g.lang.rtl===!0?"Right":"Left";return{["padding"+n]:16+e.insetLevel*56+"px"}});function T(n){S.value===!0&&(d.value!==null&&(n.qKeyEvent!==!0&&document.activeElement===c.value?d.value.focus():document.activeElement===d.value&&c.value.focus()),m(n))}function B(n){if(S.value===!0&&fe(n,13)===!0){J(n),n.qKeyEvent=!0;const k=new MouseEvent("click",n);k.qKeyEvent=!0,c.value.dispatchEvent(k)}l("keyup",n)}function x(){const n=ge(s.default,[]);return S.value===!0&&n.unshift(v("div",{class:"q-focus-helper",tabindex:-1,ref:d})),n}return()=>{const n={ref:c,class:C.value,style:q.value,role:"listitem",onClick:T,onKeyup:B};return S.value===!0?(n.tabindex=e.tabindex||"0",Object.assign(n,u.value)):h.value===!0&&(n["aria-disabled"]="true"),v(b.value,n,x())}}}),Ue=E({name:"QMenu",inheritAttrs:!1,props:{...Fe,...me,...Y,...he,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:U},self:{type:String,validator:U},offset:{type:Array,validator:Le},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...be,"click","escapeKey"],setup(e,{slots:s,emit:l,attrs:g}){let f=null,o,u,r;const b=G(),{proxy:m}=b,{$q:c}=m,d=y(null),h=y(!1),S=i(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),C=Z(e,c),{registerTick:q,removeTick:T}=ye(),{registerTimeout:B}=Se(),{transitionProps:x,transitionStyle:n}=qe(e),{localScrollTarget:k,changeScrollEvent:O,unconfigureScrollTarget:F}=Ie(e,D),{anchorEl:a,canShow:w}=Qe({showing:h}),{hide:_}=ke({showing:h,canShow:w,handleShow:ie,handleHide:oe,hideOnRouteChange:S,processOnMount:!0}),{showPortal:N,hidePortal:$,renderPortal:te}=_e(b,d,se),L={anchorEl:a,innerRef:d,onClickOutside(t){if(e.persistent!==!0&&h.value===!0)return _(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&J(t),!0}},j=i(()=>V(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),ae=i(()=>e.cover===!0?j.value:V(e.self||"top start",c.lang.rtl)),ne=i(()=>(e.square===!0?" q-menu--square":"")+(C.value===!0?" q-menu--dark q-dark":"")),le=i(()=>e.autoClose===!0?{onClick:ue}:{}),A=i(()=>h.value===!0&&e.persistent!==!0);K(A,t=>{t===!0?(Ee(Q),Ke(L)):(H(Q),X(L))});function I(){Pe(()=>{let t=d.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function ie(t){if(f=e.noRefocus===!1?document.activeElement:null,Ce(W),N(),D(),o=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const M=Te(t);if(M.left!==void 0){const{top:re,left:ce}=a.value.getBoundingClientRect();o={left:M.left-ce,top:M.top-re}}}u===void 0&&(u=K(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,P)),e.noFocus!==!0&&document.activeElement.blur(),q(()=>{P(),e.noFocus!==!0&&I()}),B(()=>{c.platform.is.ios===!0&&(r=e.autoClose,d.value.click()),P(),N(!0),l("show",t)},e.transitionDuration)}function oe(t){T(),$(),z(!0),f!==null&&(t===void 0||t.qClickOutside!==!0)&&(((t&&t.type.indexOf("key")===0?f.closest('[tabindex]:not([tabindex^="-"])'):void 0)||f).focus(),f=null),B(()=>{$(!0),l("hide",t)},e.transitionDuration)}function z(t){o=void 0,u!==void 0&&(u(),u=void 0),(t===!0||h.value===!0)&&(Be(W),F(),X(L),H(Q)),t!==!0&&(f=null)}function D(){(a.value!==null||e.scrollTarget!==void 0)&&(k.value=xe(a.value,e.scrollTarget),O(k.value,P))}function ue(t){r!==!0?(we(m,t),l("click",t)):r=!1}function W(t){A.value===!0&&e.noFocus!==!0&&Oe(d.value,t.target)!==!0&&I()}function Q(t){l("escapeKey"),_(t)}function P(){const t=d.value;t===null||a.value===null||Me({el:t,offset:e.offset,anchorEl:a.value,anchorOrigin:j.value,selfOrigin:ae.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function se(){return v(p,x.value,()=>h.value===!0?v("div",{role:"menu",...g,ref:d,tabindex:-1,class:["q-menu q-position-engine scroll"+ne.value,g.class],style:[g.style,n.value],...le.value},R(s.default)):null)}return ee(z),Object.assign(m,{focus:I,updatePosition:P}),te}});const Ne={ratio:[String,Number]};function $e(e,s){return i(()=>{const l=Number(e.ratio||(s!==void 0?s.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const je=16/9;var Ve=E({name:"QImg",props:{...Ne,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:je},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:s,emit:l}){const g=y(e.initialRatio),f=$e(e,g);let o;const u=[y(null),y(q())],r=y(0),b=y(!1),m=y(!1),c=i(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),d=i(()=>({width:e.width,height:e.height})),h=i(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),S=i(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));K(()=>C(),T);function C(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function q(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function T(a){clearTimeout(o),m.value=!1,a===null?(b.value=!1,u[r.value^1].value=q()):b.value=!0,u[r.value].value=a}function B({target:a}){o!==null&&(clearTimeout(o),g.value=a.naturalHeight===0?.5:a.naturalWidth/a.naturalHeight,x(a,1))}function x(a,w){o===null||w===1e3||(a.complete===!0?n(a):o=setTimeout(()=>{x(a,w+1)},50))}function n(a){o!==null&&(r.value=r.value^1,u[r.value].value=null,b.value=!1,m.value=!1,l("load",a.currentSrc||a.src))}function k(a){clearTimeout(o),b.value=!1,m.value=!0,u[r.value].value=null,u[r.value^1].value=q(),l("error",a)}function O(a){const w=u[a].value,_={key:"img_"+a,class:h.value,style:S.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...w};return r.value===a?(_.class+=" q-img__image--waiting",Object.assign(_,{onLoad:B,onError:k})):_.class+=" q-img__image--loaded",v("div",{class:"q-img__container absolute-full",key:"img"+a},v("img",_))}function F(){return b.value!==!0?v("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},R(s[m.value===!0?"error":"default"])):v("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},s.loading!==void 0?s.loading():e.noSpinner===!0?void 0:[v(Re,{color:e.spinnerColor,size:e.spinnerSize})])}return T(C()),ee(()=>{clearTimeout(o),o=null}),()=>{const a=[];return f.value!==null&&a.push(v("div",{key:"filler",style:f.value})),m.value!==!0&&(u[0].value!==null&&a.push(O(0)),u[1].value!==null&&a.push(O(1))),a.push(v(p,{name:"q-transition--fade"},F)),v("div",{class:c.value,style:d.value,role:"img","aria-label":e.alt},a)}}});export{Ue as Q,He as a,De as b,We as c,Ve as d};
