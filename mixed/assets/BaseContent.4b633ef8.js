import{Q as S}from"./QBtn.48f26167.js";import{h as P,c as k}from"./vm.14103ea1.js";import{i as C,a8 as x,c,a9 as B,h as $,g as Q,_ as w,m as T,af as A,r as _,o as I,ap as d,a as O,$ as q,Z as R,p as z,C as D,d as g,t as y,aq as K,R as j,J as E,K as F,x as J}from"./index.35e427b2.js";import{c as L}from"./QScrollArea.6f90cfaf.js";const M={position:{type:String,default:"bottom-right",validator:o=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(o)},offset:{type:Array,validator:o=>o.length===2},expand:Boolean};function N(){const{props:o,proxy:{$q:i}}=Q(),a=C(B,x);if(a===x)return console.error("QPageSticky needs to be child of QLayout"),x;const v=c(()=>{const e=o.position;return{top:e.indexOf("top")>-1,right:e.indexOf("right")>-1,bottom:e.indexOf("bottom")>-1,left:e.indexOf("left")>-1,vertical:e==="top"||e==="bottom",horizontal:e==="left"||e==="right"}}),s=c(()=>a.header.offset),r=c(()=>a.right.offset),l=c(()=>a.footer.offset),u=c(()=>a.left.offset),m=c(()=>{let e=0,n=0;const f=v.value,b=i.lang.rtl===!0?-1:1;f.top===!0&&s.value!==0?n=`${s.value}px`:f.bottom===!0&&l.value!==0&&(n=`${-l.value}px`),f.left===!0&&u.value!==0?e=`${b*u.value}px`:f.right===!0&&r.value!==0&&(e=`${-b*r.value}px`);const p={transform:`translate(${e}, ${n})`};return o.offset&&(p.margin=`${o.offset[1]}px ${o.offset[0]}px`),f.vertical===!0?(u.value!==0&&(p[i.lang.rtl===!0?"right":"left"]=`${u.value}px`),r.value!==0&&(p[i.lang.rtl===!0?"left":"right"]=`${r.value}px`)):f.horizontal===!0&&(s.value!==0&&(p.top=`${s.value}px`),l.value!==0&&(p.bottom=`${l.value}px`)),p}),h=c(()=>`q-page-sticky row flex-center fixed-${o.position} q-page-sticky--${o.expand===!0?"expand":"shrink"}`);function t(e){const n=P(e.default);return $("div",{class:h.value,style:m.value},o.expand===!0?n:[$("div",n)])}return{$layout:a,getStickyContent:t}}var U=k({name:"QPageSticky",props:M,setup(o,{slots:i}){const{getStickyContent:a}=N();return()=>a(i)}});const V={class:"main-content"},X=T({__name:"BaseContent",setup(o){const i={right:"2px",borderRadius:"3px",width:"7px"},a=A(),v=_(null),s=_(""),r=_(!1),l=(t,e=0)=>{var n;(n=v.value)==null||n.setScrollPosition("vertical",t,e)},u=()=>{var t;return(t=v.value)==null?void 0:t.getScrollPosition()},m=t=>{t.verticalPercentage>=.1?r.value=!0:r.value=!1},h=()=>{l(0,300)};return I(()=>{s.value=a.fullPath;const t=d.getItem(s.value);t&&l(t.top)}),O(()=>{d.remove(s.value)}),q(()=>{const t=d.getItem(a.fullPath);t&&l(t.top)}),R(()=>{const t=u();d.set(s.value,t)}),(t,e)=>(z(),D("div",V,[g(J(L),{ref_key:"scrollArea",ref:v,"thumb-style":i,visible:!1,style:{height:"100%"},onScroll:m},{default:y(()=>[K(t.$slots,"default",{},void 0,!0),g(U,{position:"bottom-right",offset:[18,18]},{default:y(()=>[g(j,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:y(()=>[E(g(S,{class:"toTopBtn",fab:"",padding:"10px",icon:"expand_less",onClick:h},null,512),[[F,r.value]])]),_:1})]),_:1})]),_:3},512)]))}});var W=w(X,[["__scopeId","data-v-165b8349"]]);export{W as B};
