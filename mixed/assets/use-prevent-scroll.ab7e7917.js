import{c as O,h as V,k as Be,o as _e}from"./vm.14103ea1.js";import{c as r,h as k,r as _,M as ce,S as j,g as de,a1 as v,w as ee,Q as Oe,R as He,j as fe,aj as te,V as h,ak as Fe}from"./index.35e427b2.js";import{u as ve,a as me}from"./selection.491c7c2b.js";import{d as Me,e as Re}from"./QBtn.48f26167.js";import{u as Ke,b as Ae,c as Qe,v as oe,d as We,e as De,f as $e,g as Ie,h as Ve,i as je,j as Xe,k as Ye,l as ze,r as ne,s as Ne,p as le,m as Ue,a as Ge,w as Je}from"./position-engine.b983691c.js";import{g as Ze,b as et,c as tt,h as ot}from"./scroll.475bdc22.js";var yt=O({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const l=r(()=>parseInt(e.lines,10)),n=r(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),i=r(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>k("div",{style:i.value,class:n.value},V(t.default))}}),wt=O({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const l=r(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>k("div",{class:l.value},V(t.default))}}),kt=O({name:"QItem",props:{...ve,...Me,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:l}){const{proxy:{$q:n}}=de(),i=me(e,n),{hasLink:d,linkAttrs:s,linkClass:p,linkTag:P,navigateOnClick:T}=Re(),u=_(null),c=_(null),f=r(()=>e.clickable===!0||d.value===!0||e.tag==="label"),m=r(()=>e.disable!==!0&&f.value===!0),H=r(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(i.value===!0?" q-item--dark":"")+(d.value===!0&&e.active===null?p.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(m.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),F=r(()=>{if(e.insetLevel===void 0)return null;const a=n.lang.rtl===!0?"Right":"Left";return{["padding"+a]:16+e.insetLevel*56+"px"}});function M(a){m.value===!0&&(c.value!==null&&(a.qKeyEvent!==!0&&document.activeElement===u.value?c.value.focus():document.activeElement===c.value&&u.value.focus()),T(a))}function L(a){if(m.value===!0&&ce(a,13)===!0){j(a),a.qKeyEvent=!0;const S=new MouseEvent("click",a);S.qKeyEvent=!0,u.value.dispatchEvent(S)}l("keyup",a)}function R(){const a=Be(t.default,[]);return m.value===!0&&a.unshift(k("div",{class:"q-focus-helper",tabindex:-1,ref:c})),a}return()=>{const a={ref:u,class:H.value,style:F.value,role:"listitem",onClick:M,onKeyup:L};return m.value===!0?(a.tabindex=e.tabindex||"0",Object.assign(a,s.value)):f.value===!0&&(a["aria-disabled"]="true"),k(P.value,a,R())}}});const g=[];let q;function nt(e){q=e.keyCode===27}function lt(){q===!0&&(q=!1)}function it(e){q===!0&&(q=!1,ce(e,27)===!0&&g[g.length-1](e))}function he(e){window[e]("keydown",nt),window[e]("blur",lt),window[e]("keyup",it),q=!1}function at(e){v.is.desktop===!0&&(g.push(e),g.length===1&&he("addEventListener"))}function ie(e){const t=g.indexOf(e);t>-1&&(g.splice(t,1),g.length===0&&he("removeEventListener"))}const b=[];function ge(e){b[b.length-1](e)}function st(e){v.is.desktop===!0&&(b.push(e),b.length===1&&document.body.addEventListener("focusin",ge))}function rt(e){const t=b.indexOf(e);t>-1&&(b.splice(t,1),b.length===0&&document.body.removeEventListener("focusin",ge))}var qt=O({name:"QMenu",inheritAttrs:!1,props:{...Ke,...Ae,...ve,...Qe,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:oe},self:{type:String,validator:oe},offset:{type:Array,validator:We},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...De,"click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){let i=null,d,s,p;const P=de(),{proxy:T}=P,{$q:u}=T,c=_(null),f=_(!1),m=r(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),H=me(e,u),{registerTick:F,removeTick:M}=$e(),{registerTimeout:L}=Ie(),{transitionProps:R,transitionStyle:a}=Ve(e),{localScrollTarget:S,changeScrollEvent:be,unconfigureScrollTarget:ye}=je(e,J),{anchorEl:y,canShow:we}=Xe({showing:f}),{hide:X}=Ye({showing:f,canShow:we,handleShow:Se,handleHide:xe,hideOnRouteChange:m,processOnMount:!0}),{showPortal:Y,hidePortal:z,renderPortal:ke}=ze(P,c,Ce),K={anchorEl:y,innerRef:c,onClickOutside(o){if(e.persistent!==!0&&f.value===!0)return X(o),(o.type==="touchstart"||o.target.classList.contains("q-dialog__backdrop"))&&j(o),!0}},N=r(()=>le(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),qe=r(()=>e.cover===!0?N.value:le(e.self||"top start",u.lang.rtl)),pe=r(()=>(e.square===!0?" q-menu--square":"")+(H.value===!0?" q-menu--dark q-dark":"")),Te=r(()=>e.autoClose===!0?{onClick:Ee}:{}),U=r(()=>f.value===!0&&e.persistent!==!0);ee(U,o=>{o===!0?(at(Q),Ue(K)):(ie(Q),ne(K))});function A(){Ge(()=>{let o=c.value;o&&o.contains(document.activeElement)!==!0&&(o=o.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||o.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||o.querySelector("[autofocus], [data-autofocus]")||o,o.focus({preventScroll:!0}))})}function Se(o){if(i=e.noRefocus===!1?document.activeElement:null,st(Z),Y(),J(),d=void 0,o!==void 0&&(e.touchPosition||e.contextMenu)){const W=Oe(o);if(W.left!==void 0){const{top:Pe,left:Le}=y.value.getBoundingClientRect();d={left:W.left-Le,top:W.top-Pe}}}s===void 0&&(s=ee(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,x)),e.noFocus!==!0&&document.activeElement.blur(),F(()=>{x(),e.noFocus!==!0&&A()}),L(()=>{u.platform.is.ios===!0&&(p=e.autoClose,c.value.click()),x(),Y(!0),l("show",o)},e.transitionDuration)}function xe(o){M(),z(),G(!0),i!==null&&(o===void 0||o.qClickOutside!==!0)&&(((o&&o.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),L(()=>{z(!0),l("hide",o)},e.transitionDuration)}function G(o){d=void 0,s!==void 0&&(s(),s=void 0),(o===!0||f.value===!0)&&(rt(Z),ye(),ne(K),ie(Q)),o!==!0&&(i=null)}function J(){(y.value!==null||e.scrollTarget!==void 0)&&(S.value=Ze(y.value,e.scrollTarget),be(S.value,x))}function Ee(o){p!==!0?(Je(T,o),l("click",o)):p=!1}function Z(o){U.value===!0&&e.noFocus!==!0&&_e(c.value,o.target)!==!0&&A()}function Q(o){l("escapeKey"),X(o)}function x(){const o=c.value;o===null||y.value===null||Ne({el:o,offset:e.offset,anchorEl:y.value,anchorOrigin:N.value,selfOrigin:qe.value,absoluteOffset:d,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ce(){return k(He,R.value,()=>f.value===!0?k("div",{role:"menu",...n,ref:c,tabindex:-1,class:["q-menu q-position-engine scroll"+pe.value,n.class],style:[n.style,a.value],...Te.value},V(t.default)):null)}return fe(G),Object.assign(T,{focus:A,updatePosition:x}),ke}});function pt(e,t,l){let n;function i(){n!==void 0&&(te.remove(n),n=void 0)}return fe(()=>{e.value===!0&&i()}),{removeFromHistory:i,addToHistory(){n={condition:()=>l.value===!0,handler:t},te.add(n)}}}let E=0,D,$,C,I=!1,ae,se,w;function ut(e){ct(e)&&j(e)}function ct(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=Fe(e),l=e.shiftKey&&!e.deltaX,n=!l&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=l||n?e.deltaY:e.deltaX;for(let d=0;d<t.length;d++){const s=t[d];if(ot(s,n))return n?i<0&&s.scrollTop===0?!0:i>0&&s.scrollTop+s.clientHeight===s.scrollHeight:i<0&&s.scrollLeft===0?!0:i>0&&s.scrollLeft+s.clientWidth===s.scrollWidth}return!0}function re(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function B(e){I!==!0&&(I=!0,requestAnimationFrame(()=>{I=!1;const{height:t}=e.target,{clientHeight:l,scrollTop:n}=document.scrollingElement;(C===void 0||t!==window.innerHeight)&&(C=l-t,document.scrollingElement.scrollTop=n),n>C&&(document.scrollingElement.scrollTop-=Math.ceil((n-C)/8))}))}function ue(e){const t=document.body,l=window.visualViewport!==void 0;if(e==="add"){const{overflowY:n,overflowX:i}=window.getComputedStyle(t);D=et(window),$=tt(window),ae=t.style.left,se=t.style.top,t.style.left=`-${D}px`,t.style.top=`-${$}px`,i!=="hidden"&&(i==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),n!=="hidden"&&(n==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,v.is.ios===!0&&(l===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",B,h.passiveCapture),window.visualViewport.addEventListener("scroll",B,h.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",re,h.passiveCapture))}v.is.desktop===!0&&v.is.mac===!0&&window[`${e}EventListener`]("wheel",ut,h.notPassive),e==="remove"&&(v.is.ios===!0&&(l===!0?(window.visualViewport.removeEventListener("resize",B,h.passiveCapture),window.visualViewport.removeEventListener("scroll",B,h.passiveCapture)):window.removeEventListener("scroll",re,h.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=ae,t.style.top=se,window.scrollTo(D,$),C=void 0)}function dt(e){let t="add";if(e===!0){if(E++,w!==void 0){clearTimeout(w),w=void 0;return}if(E>1)return}else{if(E===0||(E--,E>0))return;if(t="remove",v.is.ios===!0&&v.is.nativeMobile===!0){clearTimeout(w),w=setTimeout(()=>{ue(t),w=void 0},100);return}}ue(t)}function Tt(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,dt(t))}}}export{qt as Q,Tt as a,kt as b,yt as c,wt as d,ie as e,st as f,at as g,rt as r,pt as u};
